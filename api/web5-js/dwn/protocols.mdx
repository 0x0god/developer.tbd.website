import Divider from '@site/src/components/Divider';
import ApiDetails from '@site/src/components/ApiDetails';

# protocols

## Overview
The `protocols` class is responsible for providing convenience methods for managing protocols between DWNs

<Divider type="slash"/>

<section class="api-docs">

## Methods

<br/>

### configure(request)

Configures a protocol for a specified DWN

#### Parameters

<ApiDetails
  details={[
    {
      data: {
        isObject: true,
        field: 'request',
        value: <ApiDetails
                details={[
                {
                    data: {
                        field: 'from',
                        value: 'The DID of the DWN to configure',
                    },
                },
                {
                    data: {
                        field: 'author',
                        value: 'The DID signing the query. This may be the same as the target parameter if the target and the signer of the query are the same entity, which is common for an app querying the DWN of its own user.',
                    },
                }, 
                {
                    data: {
                        isObject: true,
                        field: 'message',
                        value: <ApiDetails
                                details={[
                                {
                                    data: {
                                        field: 'definition',
                                        value: 'Object that defines the ruleset that will be applied to the records and activities under the protocol',
                                    },
                                },
                                {
                                    data: {
                                        field: 'protocol',
                                        value: 'URI that represents the protocol being queried for',
                                    },
                                },                              
                            ]}
                            />,
                    },
                },                                             
            ]}
            />,
      },
    },
  ]}
/>


#### Return Value

The response from the query

#### Code Example
```js
const response = await web5.dwn.protocols.configure({
  from: 'did:example:alice',
  message: {
    protocol: "https://decentralized-music.org/protocol",
    definition: {
      "labels": {
        "playlist": {
          "schema": "https://decentralized-music.org/protocol/playlist",
          "dataFormat": [ "application/json" ]
        },
        "track": {
          "schema": "https://decentralized-music.org/protocol/track",
          "dataFormat": [ "application/json" ]
        },
        "audio": {
          "schema": "https://decentralized-music.org/protocol/audio",
          "dataFormat": [ "audio/aac", "audio/mp4" ]
        }
      },
      "records": {
        "playlist": {},
        "track": {
          "records": {
            "audio": {}
          }
        }
      }
    }
  }
});

```

<Divider type="slash"/>

### query(request)

Method for querying the protocols for DIDs that have added configurations for in their DWN

#### Parameters

<ApiDetails
  details={[
    {
      data: {
        isObject: true,
        field: 'request',
        value: <ApiDetails
                details={[
                {
                    data: {
                        field: 'from',
                        value: 'The DID of the DWN to query',
                    },
                },
                {
                    data: {
                        field: 'author',
                        value: 'The DID signing the query. This may be the same as the target parameter if the target and the signer of the query are the same entity, which is common for an app querying the DWN of its own user.',
                    },
                }, 
                {
                    data: {
                        isObject: true,
                        field: 'message',
                        value: <ApiDetails
                                details={[
                                {
                                    data: {
                                        isObject: true,
                                        field: 'filter',
                                        value: <ApiDetails
                                                details={[
                                                {
                                                    data: {
                                                        field: 'protocol',
                                                        value: 'URI that represents the protocol being queried for',
                                                    },
                                                },                             
                                            ]}
                                            />,
                                    },
                                },                            
                            ]}
                            />,
                    },
                },                                             
            ]}
          />,
      },
    },
  ]}
/>


#### Return Value

The response of the request as an object

#### Code Example

```js
const web5 = new Web5();
const response = await web5.dwn.protocols.query({
  from: 'did:example:alice',
  message: {
    filter: {
      protocol: "https://decentralized-music.org/protocol",
    }
  }
});
```
</section>